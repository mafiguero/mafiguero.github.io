<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Portfolio Mafiguero</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="../styles.css">
    <link rel="icon" type="image/x-icon" href="../favicon.ico">

    <script>
        
        function cambiarImagenInicio(accion) {
            var imagen = document.getElementById("miImagenInicio");
            if (accion === 'entrar') { imagen.src = "../assets/inicio1.png"; } 
            else { imagen.src = "../assets/inicio2.png"; }
        }
        function cambiarImagenAbout(accion) {
            var imagen = document.getElementById("miImagenAbout");
            if (accion === 'entrar') { imagen.src = "../assets/about1.png"; } 
            else { imagen.src = "../assets/about2.png"; }
        }
        function cambiarImagenCarrera(accion) {
            var imagen = document.getElementById("miImagenCarrera");
            if (accion === 'entrar') { imagen.src = "../assets/carrera1.png"; } 
            else { imagen.src = "../assets/carrera2.png"; }
        }
        function cambiarImagenProyectos(accion) {
            var imagen = document.getElementById("miImagenProyectos");
            if (accion === 'entrar') { imagen.src = "../assets/proyectos1.png"; } 
            else { imagen.src = "../assets/proyectos2.png"; }
        }
        function cambiarImagenContacto(accion) {
            var imagen = document.getElementById("miImagenContacto");
            if (accion === 'entrar') { imagen.src = "../assets/contacto1.png"; } 
            else { imagen.src = "../assets/contacto2.png"; }
        }

        function cambiarImagenBack(accion) {
            var imagen = document.getElementById("miImagenBack");
            if (accion === 'entrar') { imagen.src = "../assets/back1.png"; } 
            else { imagen.src = "../assets/back2.png"; }
        }
        function cambiarImagenYt(accion) {
            var imagen = document.getElementById("miImagenYt");
            if (accion === 'entrar') { imagen.src = "../assets/p29.png"; } 
            else { imagen.src = "../assets/p210.png"; }
        }

        function redirectToLink(link) {
            window.location.href = link;
        }
        function openLinkInNewTab(link) {
            window.open(link, '_blank');
        }
    </script>    
</head>
<body>    
    <hr>
    <br><div class="contenedor-imagenes centrado">
        
        <img id="miImagenInicio" 
            src="../assets/inicio2.png" 
            alt="Imagen Inicio" 
            onmouseover="cambiarImagenInicio('entrar')"
            onmouseout="cambiarImagenInicio('salir')" 
            title="Clic para ir a Google" 
            style="height: 10px;"
            onclick="redirectToLink('../mobile.html#inicio')"
            class="cambiar-cursor"
        />
        &nbsp;&nbsp;&nbsp;&nbsp;

        <img id="miImagenAbout" 
            src="../assets/about2.png" 
            alt="Imagen About" 
            onmouseover="cambiarImagenAbout('entrar')"
            onmouseout="cambiarImagenAbout('salir')" 
            title="Clic para ir a Google" 
            style="height: 10px;"
            onclick="redirectToLink('../mobile.html#about')"
            class="cambiar-cursor"
        />
        &nbsp;&nbsp;&nbsp;&nbsp;

        <img id="miImagenCarrera" 
            src="../assets/carrera2.png" 
            alt="Imagen About" 
            onmouseover="cambiarImagenCarrera('entrar')"
            onmouseout="cambiarImagenCarrera('salir')" 
            title="Clic para ir a Google" 
            style="height: 10px;"
            onclick="redirectToLink('../mobile.html#carrera')"
            class="cambiar-cursor"
        />
        &nbsp;&nbsp;&nbsp;&nbsp;

        <img id="miImagenProyectos" 
            src="../assets/proyectos2.png" 
            alt="Imagen Proyectos" 
            onmouseover="cambiarImagenProyectos('entrar')"
            onmouseout="cambiarImagenProyectos('salir')" 
            title="Clic para ir a Google" 
            style="height: 10px;"
            onclick="redirectToLink('../mobile.html#proyectos')"
            class="cambiar-cursor"
        />
        &nbsp;&nbsp;&nbsp;&nbsp;

        <img id="miImagenContacto" 
            src="../assets/contacto2.png" 
            alt="Imagen Contacto" 
            onmouseover="cambiarImagenContacto('entrar')"
            onmouseout="cambiarImagenContacto('salir')" 
            title="Clic para ir a Google" 
            style="height: 10px;"
            onclick="redirectToLink('../mobile.html#contacto')"
            class="cambiar-cursor"
        />
        &nbsp;&nbsp;&nbsp;&nbsp;
    </div>

    <hr>
    <br>

    <div class="bloque-con-texto">

        <div class="centrado">
            <img class="imagen-redondeada imagen-con-sombra" src="../assets/p3/p33.png" alt="Imagen p33" width="300px"/>
        </div>    
        <h2><b>── RETO DE CIBERSEGURIDAD: CREACIÓN DE UN MALWARE ──</b></h2>
            <p class="texto-con-espaciado">
                Mi gran interés en el campo de la ciberseguridad fue la razón que me motivó a llevar a cabo este desafío. Este proyecto 
                representó un reto académico en el contexto de la asignatura de 'Seguridad en Sistemas y Redes' de la universidad, propuesto 
                por el profesorado. Fue altamente valorado tanto por los estudiantes como por los profesores y, en colaboración con otros 
                desafíos presentados por mis compañeros de equipo, nos llevó a ganar el premio al equipo con la mayor cantidad de desafíos 
                presentados y evaluados exitosamente. 
                Este reto, junto con el proyecto del cortafuegos, "Simulación de Ataque en 
                NS3" (disponibles en este portfolio) y otros desafíos que presenté, me llevó a lograr una calificación de matrícula de honor 
                en dicha asignatura.
                <br><br>
                A lo largo de mi vida he tenido varias experiencias con virus informáticos que infectaron mis ordenadores en un pasado. 
                Esto me ha llevado a estudiar cómo actúan y cómo se ejecutan en el sistema operativo. La única manera de vencerlos es 
                conocer cómo trabajan para poder destruirlos desde dentro y poder evitarlos en un futuro.
                <br><br>
            </p>

        
    </div>

    <br>

    <div class="bloque-con-texto">
        <div class="centrado">
            <img class="imagen-redondeada imagen-con-sombra" src="../assets/p3/p34.png" alt="Imagen p34" width="300px"/>
        </div>

            <p class="texto-con-espaciado">
                <br>
                El objetivo de este reto es crear un virus informático o malware cubriendo todas las etapas del mismo, desde cómo crear 
                el troyano y que éste pase desapercibido por los antivirus, infectar a la máquina, ejecutar el malware y enviar los datos 
                a un servidor para que el hacker pueda acceder a la información que se le extrae al usuario infectado.
                <br><br>
                Es necesario aclarar que este proyecto <b>SE HA LLEVADO ÚNICA Y EXCLUSIVAMENTE CON MÉRITOS EDUCATIVOS</b> y no me hago responsable de 
                cualquier réplica del mismo.
                <br><br>
                La primera etapa del proceso de infección es la descarga del virus informático. En este supuesto, el usurario quiere descargar 
                un juego de manera gratuita y acude a nuestra página web donde descarga el juego que contendrá el virus que hemos creado. 
                Para que éste pase desapercibido por la mayoría de antivirus, se ha cifrado el archivo comprimido que contiene el juego 
                junto con el malware, mediante una contraseña que se proporcionará previamente a la víctima. Este tipo de cifrado es muy 
                utilizado en la actualidad para camuflar troyanos y debemos sospechar ante este tipo de situaciones, si no queremos ser infectados.
                <br><br>
            </p>

    </div> 

    <br>

    <div class="bloque-con-texto">

            <p class="texto-con-espaciado">
                Una vez el usuario descomprima el archivo comprimido, extraerá un único ejecutable llamado “setup.exe” que es el instalador del 
                juego y a su vez el instalador del malware. Es el caballo de troya. Para crear este setup he utilizado la herramienta gratuita 
                “inno setup compiler” que nos permite crear y modificar un instalador. Este instalador copia una serie de archivos, en concreto, 
                los que están remarcados en rojo “MicrosofTools.exe” (Lanzador) y “svhost.exe” (KeyLogger) en una ruta que sólo conocerá el atacante. 
                <br><br>
                La siguiente etapa es la instalación del “caballo de Troya”. Cuando el usuario haga “doble click” sobre el setup se le mostrará 
                un mensaje por el sistema operativo: “¿Desea que esta aplicación realice cambios en el equipo?”. Si el usuario desea instalar 
                su juego deberá dar permisos al instalador para que éste cree los directorios y copie en ellos los archivos del juego. 
                <br><br>
                Esta vulnerabilidad se aprovecha para con permisos de administrador ejecutar cualquier comando que programemos en el setup. En 
                este caso para extraer el malware e instalarlo. 
                <br><br>
            </p>

        <div class="centrado">
            <img src="../assets/p3/p35.png" alt="Imagen p35" width="300px"/>
        </div>
    </div>

    <br>

    <div class="bloque-con-texto">
      
            <p class="texto-con-espaciado">
                El proceso de instalación es muy sencillo y parecido a cualquier instalador normal y corriente. Al usuario se le irán mostrando 
                una serie de ventanas en las que el usuario podrá personalizar la ruta de instalación del juego (no afecta a la ruta de 
                instalación del virus que recordemos es fija), elegir si quiere crear un acceso directo en el escritorio, etc. La victima irá 
                haciendo “click” en la casilla de “siguiente” hasta que se termine de instalar y descomprimir todos los archivos.   
                <br><br>
                Finalmente se le mostrará la ventana de “Instalación completada” y aparecerá la casilla por defecto marcada para ejecutar 
                la aplicación. A continuación se ejecutará “Starter.exe”. Este “starter” crea una extensión en el registro de Windows para 
                que el lanzador del keylogger que he llamado “MicrosofTools.exe” y que se ha copiado en una ruta que hemos especificado 
                gracias al instalador, se ejecute cada vez que el usuario arranque el PC. 
                <br><br>
                Una vez se ejecuta este pequeño scrip, se hace una llamada al ejecutable “uns0013.exe” que es el verdadero ejecutable que inicializa 
                el juego. De esta manera el usuario puede disfrutar de su juego gratuito y confiar en nuestro servicio.
                <br><br>
            </p>

    </div>

    <br>

    <div class="bloque-con-texto">
        <div class="centrado">
            <img src="../assets/p3/p36.png" alt="Imagen p36" width="300px"/>
        </div>

            <p class="texto-con-espaciado">
                Una vez terminado el proceso de instalación encontramos el juego o aplicación (caballo de troya) y sus correspondientes archivos. 
                En este este caso el ejecutor de la aplicación está modificado y además de ejecutar el juego, ejecuta un proceso denominado 
                “Starter.c”.
                Este “Starter”, programado en c, ejecutará un pequeño scrip y luego llamara al ejecutable “aplicación” (juego).
                El propósito de este script es crear una excepción en el registro del sistema operativo para que nuestro malware se ejecute cada vez que el usuario 
                arranque el pc, sin necesidad de que esté usando nuestra aplicación gratuita.
                <br><br>
                Por otro lado en una capeta que se creó durante el proceso de instalación se encuentran los dos ejecutables que forman el malware: El lanzador 
                “MicrosofTools.exe” y el KeyLogger renombrado para pasar desapercibido “svhost.exe”:
                <br><br>
                - El lanzador se encarga de crear un proceso hijo en segundo plano que ejecuta el keylogger (svhost.exe).
                <br><br>
                - El KeyLogger programa que se encarga crear un proceso esclavo que recoge todo lo que el usuario introduce por teclado. Esta salida se almacena en 
                un buffer que mediante otro proceso esclavo, se cifra mediante RSA y se guarda en un fichero salida. De esta forma los datos se cifran con una 
                clave pública y solamente se pueden descifrar con una clave privada que posee el hacker.
                <br><br>
            </p>

    </div>

    <br>

    <div class="bloque-con-texto">
    
            <p class="texto-con-espaciado">
                Todos estos programas han sido programados desde cero en lenguaje C e hice uso de algunos métodos de ocultación de malware para despistar a 
                los compiladores y de esta manera, que sea muy complicado entender la dinámica del programa y no puedan saltar alertas.   
                <br><br>
                Por último quedaría enviar dichos ficheros cifrados a un servidor externo desde el cual el hacker pueda acceder a estos archivos. Dada la complejidad 
                de esta implementación, el poco tiempo del que se disponía para este reto, simplemente expuse algunas opciones para poder llevarlo a cabo que no 
                explicaré para no extenderme demasiado en este blog.
                <br><br>
            </p>


    </div>

    <br>
    <hr>
    <div class="centrado" id="contacto">
        <h2><b>── CONTACTO ──</b></h2>
    </div>
    
    <div class="bloque-con-texto">
        <h3><b>Miguel Ángel Figuero</b></h3>
        <p class="texto-con-espaciado">
            correo: mafiguero2002@gmail.com
        </p>

        <div class="image-text-container">
            <img 
                src="../assets/linkedin.png" 
                alt="Imagen linkedin" 
                width="20px"
                height="20px"
                onclick="redirectToLink('https://www.linkedin.com/in/miguel-%C3%A1ngel-figuero-vallejo-020468297/')"
                class="cambiar-cursor" 
            />
            <div class="sin-formato">
                <a target="_blank" href="https://www.linkedin.com/in/miguel-%C3%A1ngel-figuero-vallejo-020468297/"><p> @mafiguero</p></a>
            </div>  
        </div>
        
        <h2><span style="color:rgb(255, 255, 255)"><b>REFERENCIAS</b></span></h2>
        <p>Mi universidad: <a target="_blank" href="https://www.etsisi.upm.es/">etsisi.upm.es</a>
            <br>
            Mi carrera:
            <a target="_blank" href="https://www.etsisi.upm.es/estudios/grados/61ci/ig">Ingeniería de Computadores</a>   
        </p>


        <div class="recuadro">
            <a href="../CV.pdf" download>Descargar CV</a>
        </div>

        <p class="texto-con-espaciado">
            Madrid, Comunidad de Madrid
            <br><br>
            
            España
            <br><br>
            © Portfolio Mafiguero 2023
        </p>
    </div>

    <br><br>

</body>
</html>